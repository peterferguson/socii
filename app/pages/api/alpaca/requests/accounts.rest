# Get all accounts
GET http://localhost:3000/api/alpaca/accounts
content-type: application/json
authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc3MTBiMDE3ZmQ5YjcxMWUwMDljNmMzNmIwNzNiOGE2N2NiNjgyMTEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiamFtZXMgbWNjIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FBVFhBSnhkc25zQnJ5SUJPaG80ckJROXk5Z2oxRVRCeGk2LTNlUWQtUFQwPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3NvY2lpaW52ZXN0IiwiYXVkIjoic29jaWlpbnZlc3QiLCJhdXRoX3RpbWUiOjE2MjQ1NDcxNDUsInVzZXJfaWQiOiJzd0NWTTB0ejVlZml2alBOelpObDZCNEtoV0EyIiwic3ViIjoic3dDVk0wdHo1ZWZpdmpQTnpaTmw2QjRLaFdBMiIsImlhdCI6MTYyNjM4MjI3NSwiZXhwIjoxNjI2Mzg1ODc1LCJlbWFpbCI6ImphbWVzLm1jYzk0QGhvdG1haWwuY28udWsiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExNTk2NDg1Nzk3NDA5MzE4NDAxNSJdLCJlbWFpbCI6WyJqYW1lcy5tY2M5NEBob3RtYWlsLmNvLnVrIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.qgQp0flv7P6JX63AxA-TkQpY07BgmyV0pdnk9N5srJIfNB_dXXNein83eKcg7x5pKkGpJxWekMjOwl6wwH3V4GQRFEM6wZNeUATYUcRyXKAE5bOPdJILmiQApLnBNHxcHe0XoTol9K0ItjCJPMNzC0XGAKMdC8uBZamg1Xq3Z6alCSG5KdH_w6KSZh6aF_kjMV2f5jS3B3LXIPz8eDGOX72KD8Cdf4eue2X-rd8vZgMQNzKeMzuTFRY3yXGBwTQYmqHhx3bljK-s2efqPf14HYYIjAVZBtsJKmHRNfKD9-eB_KEEwBJh7h_dmgBRtYOdzY4OXelMFkTeV4XV86qakA

{
"query": "c7b69d40-b3bf-44fb-bb89-61e69bdb09ff"
}

# Get specific account
###
GET http://localhost:3000/api/alpaca/accounts
content-type: application/json
authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc3MTBiMDE3ZmQ5YjcxMWUwMDljNmMzNmIwNzNiOGE2N2NiNjgyMTEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiamFtZXMgbWNjIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FBVFhBSnhkc25zQnJ5SUJPaG80ckJROXk5Z2oxRVRCeGk2LTNlUWQtUFQwPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3NvY2lpaW52ZXN0IiwiYXVkIjoic29jaWlpbnZlc3QiLCJhdXRoX3RpbWUiOjE2MjQ1NDcxNDUsInVzZXJfaWQiOiJzd0NWTTB0ejVlZml2alBOelpObDZCNEtoV0EyIiwic3ViIjoic3dDVk0wdHo1ZWZpdmpQTnpaTmw2QjRLaFdBMiIsImlhdCI6MTYyNjYzMDUxOSwiZXhwIjoxNjI2NjM0MTE5LCJlbWFpbCI6ImphbWVzLm1jYzk0QGhvdG1haWwuY28udWsiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExNTk2NDg1Nzk3NDA5MzE4NDAxNSJdLCJlbWFpbCI6WyJqYW1lcy5tY2M5NEBob3RtYWlsLmNvLnVrIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.C5ew8xn-uAgq4Oz2sWIClJLJ1EM8q21y5V8_3hwXQBFH1NtF3rDwYy5gDtA_hEGYwz8mYadY_ZgnO899PRMBZlsyOj5OCeWtEhqya6WgHwqM5uaZHUhbZufKsT3AMKilS8sI-_NaXtguS64kDAF8cPOScI6yGUAZpWz49w46GebD2kWgErJ5BW-oJXfG8IduVw4BtEGYHa9R9zpmTspeVwv8OACkoepJfjJ5ZqJVP06Yw_Gnx5ePnyuHdLDE4Stnm0DdBs00UN7EjzrEB3UzDt-6J2lqYixvBU_G1wajdGqVeqfIvM2x-EwGaryHMInrKe_Xj7lRhGkRzC30toXkhQ

{
  "accountId": "2bd90dfc-949d-4601-b262-4f4cd201fa27"
}

# Delete account
###
DELETE http://localhost:3000/api/alpaca/accounts
content-type: application/json
authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc3MTBiMDE3ZmQ5YjcxMWUwMDljNmMzNmIwNzNiOGE2N2NiNjgyMTEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiamFtZXMgbWNjIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FBVFhBSnhkc25zQnJ5SUJPaG80ckJROXk5Z2oxRVRCeGk2LTNlUWQtUFQwPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3NvY2lpaW52ZXN0IiwiYXVkIjoic29jaWlpbnZlc3QiLCJhdXRoX3RpbWUiOjE2MjQ1NDcxNDUsInVzZXJfaWQiOiJzd0NWTTB0ejVlZml2alBOelpObDZCNEtoV0EyIiwic3ViIjoic3dDVk0wdHo1ZWZpdmpQTnpaTmw2QjRLaFdBMiIsImlhdCI6MTYyNjYyMTIwNiwiZXhwIjoxNjI2NjI0ODA2LCJlbWFpbCI6ImphbWVzLm1jYzk0QGhvdG1haWwuY28udWsiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExNTk2NDg1Nzk3NDA5MzE4NDAxNSJdLCJlbWFpbCI6WyJqYW1lcy5tY2M5NEBob3RtYWlsLmNvLnVrIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.Tha7pmPRHgQQsfgrVb27Hlw1e5y-laQcKkGmNQH_a9IC8w5y7P1iAiTxP4ItCRbWGuaiYB5xL7rOAZGb7Jwqp5HB9WUCns0wu6HoIk9ZWLD3Y2ZX6Q1hFnYZiWuA70QB7u6YeZcmnfos3a0FPFFLurWXNPTYM13aUylX03etWqfZ_kjuxZRgbN44q87W6jOXvBUWkDeuw5BAZlpdKWU9Vx5P3M1ycw_gFXPN4yHD6fmSt0Q5WS6B8DA00w_lgsaQvWnYYgWniqqHktwNKVy198GLeoDa6OPFR29nNryN0BWgNw8b39JxHiZ6EIxhHktPeK2rNiKKpV7UZ4X_2m87yg

{
"accountId": "e033ed73-01c2-42e0-a19f-da75ebefe2c2"
}

//// BUG? Seemed too a prob with the patch in account api. wouldnt log till i put a consol log before line 950
# Patch account
###
PATCH http://localhost:3000/api/alpaca/accounts
content-type: application/json
authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc3MTBiMDE3ZmQ5YjcxMWUwMDljNmMzNmIwNzNiOGE2N2NiNjgyMTEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiamFtZXMgbWNjIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FBVFhBSnhkc25zQnJ5SUJPaG80ckJROXk5Z2oxRVRCeGk2LTNlUWQtUFQwPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3NvY2lpaW52ZXN0IiwiYXVkIjoic29jaWlpbnZlc3QiLCJhdXRoX3RpbWUiOjE2MjQ1NDcxNDUsInVzZXJfaWQiOiJzd0NWTTB0ejVlZml2alBOelpObDZCNEtoV0EyIiwic3ViIjoic3dDVk0wdHo1ZWZpdmpQTnpaTmw2QjRLaFdBMiIsImlhdCI6MTYyNjY0ODMwOCwiZXhwIjoxNjI2NjUxOTA4LCJlbWFpbCI6ImphbWVzLm1jYzk0QGhvdG1haWwuY28udWsiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExNTk2NDg1Nzk3NDA5MzE4NDAxNSJdLCJlbWFpbCI6WyJqYW1lcy5tY2M5NEBob3RtYWlsLmNvLnVrIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.fQEutwtBUrW8prREWdf4NKwdyfsByIB06D2Gt8wlVujscFzK1OApyCnoF3M4ay33LFjUipCJsGF0msTqUHAV2Ezrb-zTSm649y3p33lScaHLjCrrihg9vS_hGDBECtfABXD3X2DC6q1qomFOUjPUxshxkyQibnRMci00KjhOMPrijnp7SoCH8aY-VLXiowSoxU_4yPrkMTkAjQbfZL7Q5v5SCdShDFruQg7muK3GfIuH7niOFgfLNb7ILCRDvDfagj8ewOnNWMPHWD6nLBCHLo4rkT4-gAvrD5DKUz6kOgbnEcGem_TwvjLaj10n2khWydRB_6TNsCjdHpy8kT75Tw

{
  "accountId":"1ccad4f7-336b-4fff-a52c-c422b79cca9e",
  "contact": {
    "email_address": "jam1@socii.com"
  }
}

# Create account
###
POST http://localhost:3000/api/alpaca/accounts
content-type: application/json
authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ijc3MTBiMDE3ZmQ5YjcxMWUwMDljNmMzNmIwNzNiOGE2N2NiNjgyMTEiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiamFtZXMgbWNjIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FBVFhBSnhkc25zQnJ5SUJPaG80ckJROXk5Z2oxRVRCeGk2LTNlUWQtUFQwPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3NvY2lpaW52ZXN0IiwiYXVkIjoic29jaWlpbnZlc3QiLCJhdXRoX3RpbWUiOjE2MjQ1NDcxNDUsInVzZXJfaWQiOiJzd0NWTTB0ejVlZml2alBOelpObDZCNEtoV0EyIiwic3ViIjoic3dDVk0wdHo1ZWZpdmpQTnpaTmw2QjRLaFdBMiIsImlhdCI6MTYyNjYyNzc5NywiZXhwIjoxNjI2NjMxMzk3LCJlbWFpbCI6ImphbWVzLm1jYzk0QGhvdG1haWwuY28udWsiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjExNTk2NDg1Nzk3NDA5MzE4NDAxNSJdLCJlbWFpbCI6WyJqYW1lcy5tY2M5NEBob3RtYWlsLmNvLnVrIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.Y9vmQFcLX8pCtmDi68KHG3azjXnEXapZtYvM5Odjd-ZNT3qzYvYHSPxkV29A1bXvAR1pzKCB9SeLGUYmiR7px8oCblbP2SVV1YAHxe9SOZ0i4HHffjHGH-l7uFVbhsIaU-Mzo1Gs-S4f6AGdnUYPBfJvutNmV15WcHE1AMs85GRTlYJkwoOeRMZKyGJ9vbRAjudQzosfxbuyunx-SjDYptcyOY3f3evPBcMMVQxXdgdgWlw1kC6Ux1JyINFdHqEdcLdF-Un7g0kT8NuL8z5Z6M0rArvRFYaIeP-rr1EcjC05Dw2waC7qvnzxDeCf30g8juB7pXIbROI1cA59Yr10Ow

{
  "contact": {
    "email_address": "tests7@socii.com",
    "phone_number": "+442137981999",
    "street_address": ["123 Social Drive"],
    "city": "Belfast",
    "state": "",
    "postal_code": "BT00AA",
    "country": "GBR"
  },
  "identity": {
    "given_name": "TEST",
    "family_name": "ACCOUNT",
    "date_of_birth": "1995-01-07",
    "tax_id": "AA123456C",
    "tax_id_type": "GBR_NINO",
    "country_of_citizenship": "GBR",
    "country_of_birth": "GBR",
    "country_of_tax_residence": "GBR",
    "funding_source": ["employment_income"]
  },
  "disclosures": {
    "is_control_person": false,
    "is_affiliated_exchange_or_finra": false,
    "is_politically_exposed": false,
    "immediate_family_exposed": false
  },
  "agreements": [
    {
      "agreement": "margin_agreement",
      "signed_at": "2020-09-11T18:09:33Z",
      "ip_address": "185.13.21.99"
    },
    {
      "agreement": "account_agreement",
      "signed_at": "2020-09-11T18:13:44Z",
      "ip_address": "185.13.21.99"
    },
    {
      "agreement": "customer_agreement",
      "signed_at": "2020-09-11T18:13:44Z",
      "ip_address": "185.13.21.99"
    }
  ],
  "documents": [
    {
      "document_type": "cip_result",
      "content": "VGhlcmUgYXJlIG5vIHdpbGQgYWxwYWNhcy4=",
      "mime_type": "application/pdf"
    },
    {
      "document_type": "identity_verification",
      "document_sub_type": "passport",
      "content": "QWxwYWNhcyBjYW5ub3QgbGl2ZSBhbG9uZS4=",
      "mime_type": "image/jpeg"
    }
  ]
}

